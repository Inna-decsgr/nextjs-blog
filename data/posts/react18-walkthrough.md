### 최신 리액트 관련 공식 문서 정리

> React 18에서 가장 중요한 변화 중 하나는 앱 개발자들이 신경 쓸 필요가 없는 동시성(Concurrency)이다. 우리는 이것이 애플리케이션 개발자들에게는 대부분 해당된다고 생각하지만, 라이브러리 관리자들에게는 이 이야기가 조금 더 복잡할 수 있다.

동시성은 그 자체로의 기능이 아니라 리액트가 여러 버전의 UI를 동시에 준비할 수 있도록 해주는 새로운 비하인드 메커니즘이다. 동시성은 구현 세부 사항으로 생각될 수 있고 잠금을 해제하는 기능 때문에 가치가 있다. 또한, 리액트는 내부 구현에서 우선 순위 대기열과 다중 버퍼링과 같은 정교한 기술을 사용한다. 하지만 공개 API 어디에서도 이러한 개념을 볼 수 없을 것이다.

API를 설계할 때 우리는 개발자로 하여금 구현 세부 사항을 숨기려고 노력한다. React 개발자로서, 사용자 경험이 어떻게 보일지에 집중하고, React는 그 경험을 전달하는 방법을 처리한다. 따라서 React 개발자로서는 동시성이 어떻게 작동하는지 알 필요는 없다고 생각한다.

하지만 최신 React는 일반적인 구현 세부 사항보다 더 중요하다. React의 핵심 렌더링 모델에 대한 기본 업데이트를 했기 때문이다. 동시성의 작동 방식을 아는 것이 그다지 중요하지 않을 수 있지만, 좀 더 높은 수준에서 무엇인지 알고 있는 것이 좋을 수 있다.

최신 React의 주요 특징 중 하나는 렌더링이 중단 가능하다는 것이다. React 18로 업그레이드한 직후, 동시 기능을 추가하기 전에는 업데이트가 이전 버전의 React에서와 마찬가지로 단일하고 중단되지 않는 동기 트랜잭션에서 렌더링 된다. 동기적 렌더링에서는 업데이트가 시작되면 사용자가 결과를 화면에서 볼 때까지 아무 것도 그것을 중단시킬 수 없다.

동시 렌더링에서는 이것이 항상 그렇지 않습니다. React는 업데이트를 시작할 수 있고 중간에 일시 중지할 수 있습니다. 때로는 진행 중인 렌더링을 완전히 포기할 수도 있습니다. React는 렌더링이 중단되더라도 UI가 일관되게 표시될 것을 보장합니다. 이를 위해 React는 전체 트리가 평가될 때까지 DOM 변이를 수행하지 않고 기다립니다. 이 능력으로 React는 백그라운드에서 새로운 화면을 준비할 수 있으며 메인 스레드를 차단하지 않습니다. 이는 UI가 큰 렌더링 작업 중간에 있더라도 사용자 입력에 즉시 응답할 수 있도록 만들어주어 유동적인 사용자 경험을 제공합니다.

다른 예로는 재사용 가능한 상태입니다. Concurrent React는 UI의 일부를 화면에서 제거한 다음 나중에 다시 추가하면서 이전 상태를 재사용할 수 있습니다. 예를 들어, 사용자가 화면에서 탭을 누른 후 되돌아 오면 React는 이전 상태로 화면을 복원해야 합니다. 다음 소규모 업데이트에서는 이 패턴을 구현하는 새로운 컴포넌트인 <Offscreen>을 추가할 예정입니다. 마찬가지로, Offscreen을 사용하여 사용자가 화면을 공개하기 전에 백그라운드에서 새 UI를 준비할 수 있습니다.

동시 렌더링은 React에서 강력한 새 도구이며, Suspense, 전환 및 스트리밍 서버 렌더링을 비롯한 대부분의 새로운 기능이 이를 활용하여 구축되었습니다. 그러나 React 18은 이 새로운 기초 위에 구축하려는 것의 시작에 불과합니다.